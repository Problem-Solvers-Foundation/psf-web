<article class="mx-auto max-w-4xl px-4 py-16 sm:px-6 lg:px-8">

  <!-- Imagem de destaque -->
  <% if (post.imageUrl) { %>
    <div class="mb-8 overflow-hidden rounded-xl">
      <img
        src="<%= post.imageUrl %>"
        alt="<%= post.title %>"
        class="w-full h-96 object-cover"
        onerror="this.src='https://via.placeholder.com/1200x600?text=Blog+Post'"
      />
    </div>
  <% } %>

  <!-- Cabeçalho do post -->
  <header class="mb-10">

    <!-- Categoria -->
    <% if (post.category) { %>
      <a href="/blog?category=<%= post.category %>" class="inline-block rounded-full bg-primary px-4 py-2 text-sm font-bold uppercase mb-6 text-white hover:bg-primary/90 transition-colors shadow-sm">
        <%= post.category %>
      </a>
    <% } %>

    <!-- Título -->
    <h1 class="text-4xl font-extrabold text-text-light dark:text-text-dark sm:text-5xl lg:text-6xl mb-6 leading-tight">
      <%= post.title %>
    </h1>

    <!-- Meta informações -->
    <div class="flex flex-wrap items-center gap-4 pb-6 border-b-2 border-border-light dark:border-border-dark">

      <!-- Autor -->
      <% if (post.author) { %>
        <div class="flex items-center gap-3">
          <div class="h-12 w-12 rounded-full bg-primary/20 flex items-center justify-center ring-2 ring-primary/30">
            <span class="text-primary font-bold text-lg">
              <%= post.author.charAt(0).toUpperCase() %>
            </span>
          </div>
          <div class="flex flex-col">
            <span class="text-xs text-muted-light dark:text-muted-dark uppercase tracking-wide font-medium">Author</span>
            <span class="font-bold text-text-light dark:text-text-dark text-base">
              <%= post.author %>
            </span>
          </div>
        </div>
      <% } %>

      <!-- Separador -->
      <div class="h-8 w-px bg-border-light dark:bg-border-dark"></div>

      <!-- Data e Tempo de Leitura -->
      <div class="flex flex-col">
        <span class="text-xs text-muted-light dark:text-muted-dark uppercase tracking-wide font-medium">Published</span>
        <div class="flex items-center gap-2 text-text-light dark:text-text-dark font-medium">
          <time datetime="<%= post.createdAt %>">
            <%
              const date = new Date(post.createdAt);
              const formattedDate = date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
              });
            %>
            <%= formattedDate %>
          </time>

          <!-- Tempo de leitura -->
          <% if (post.readingTime) { %>
            <span class="text-muted-light dark:text-muted-dark">•</span>
            <span class="text-muted-light dark:text-muted-dark"><%= post.readingTime %> min read</span>
          <% } %>
        </div>
      </div>

    </div>

  </header>

  <!-- Excerpt/Resumo -->
  <% if (post.excerpt) { %>
    <div class="mb-10 p-6 bg-primary/5 dark:bg-primary/10 rounded-xl border-l-4 border-primary shadow-sm">
      <p class="text-lg text-text-light dark:text-text-dark leading-relaxed italic font-medium">
        <%= post.excerpt %>
      </p>
    </div>
  <% } %>

  <!-- Conteúdo do post -->
  <div class="prose prose-lg dark:prose-invert max-w-none">
    <%- post.content %>
  </div>

  <!-- Tags (se houver) -->
  <% if (post.tags && post.tags.length > 0) { %>
    <div class="mt-12 pt-8 border-t border-gray-200 dark:border-gray-800">
      <h3 class="text-sm font-semibold text-gray-900 dark:text-white mb-3">Tags</h3>
      <div class="flex flex-wrap gap-2">
        <% post.tags.forEach(tag => { %>
          <a
            href="/blog?tag=<%= tag %>"
            class="inline-block px-3 py-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-full text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"
          >
            #<%= tag %>
          </a>
        <% }); %>
      </div>
    </div>
  <% } %>

  <!-- Botões de ação -->
  <div class="mt-12 flex items-center justify-between pt-8 border-t border-gray-200 dark:border-gray-800">

    <!-- Voltar para lista -->
    <a
      href="/blog"
      class="inline-flex items-center text-primary hover:underline font-medium"
    >
      <svg class="mr-2 h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
      Back to Blog
    </a>

    <!-- Compartilhar (opcional) -->
    <div class="flex items-center gap-3">
      <span class="text-sm text-gray-600 dark:text-gray-400">Share:</span>
      <a
        href="https://twitter.com/intent/tweet?url=<%= encodeURIComponent('http://localhost:3000/blog/' + post.slug) %>&text=<%= encodeURIComponent(post.title) %>"
        target="_blank"
        rel="noopener noreferrer"
        class="text-gray-600 dark:text-gray-400 hover:text-primary transition-colors"
        title="Share on Twitter"
      >
        <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.71v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path>
        </svg>
      </a>
      <a
        href="https://www.facebook.com/sharer/sharer.php?u=<%= encodeURIComponent('http://localhost:3000/blog/' + post.slug) %>"
        target="_blank"
        rel="noopener noreferrer"
        class="text-gray-600 dark:text-gray-400 hover:text-primary transition-colors"
        title="Share on Facebook"
      >
        <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path>
        </svg>
      </a>
    </div>

  </div>

</article>

<!-- Posts relacionados (opcional - pode implementar depois) -->
<!--
<section class="mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8 border-t">
  <h2 class="text-2xl font-bold mb-8">Related Posts</h2>
  <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
    <!-- Cards de posts relacionados aqui -->
  </div>
</section>

