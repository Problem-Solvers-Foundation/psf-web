<header class="sticky top-0 z-50 flex items-center justify-between whitespace-nowrap border-b border-border-light dark:border-border-dark bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm px-4 md:px-10 py-4">
  <div class="flex items-center gap-3">
    <div class="text-primary size-7">
      <svg fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
        <path clip-rule="evenodd" d="M12.0799 24L4 19.2479L9.95537 8.75216L18.04 13.4961L18.0446 4H29.9554L29.96 13.4961L38.0446 8.75216L44 19.2479L35.92 24L44 28.7521L38.0446 39.2479L29.96 34.5039L29.9554 44H18.0446L18.04 34.5039L9.95537 39.2479L4 28.7521L12.0799 24Z" fill="currentColor" fill-rule="evenodd"></path>
      </svg>
    </div>
    <h2 class="text-lg font-bold">Problem Solver Foundation</h2>
  </div>

  <!-- Desktop Navigation -->
  <nav class="hidden md:flex items-center gap-6">
    <a class="text-sm font-medium hover:text-primary transition-colors <%= currentPage === 'home' ? 'text-primary' : '' %>" href="/">Home</a>
    <a class="text-sm font-medium hover:text-primary transition-colors <%= currentPage === 'solutions' ? 'text-primary' : '' %>" href="/solutions">Solutions</a>
    <a class="text-sm font-medium hover:text-primary transition-colors <%= currentPage === 'impact' ? 'text-primary' : '' %>" href="/impact">Impact</a>
    <a class="text-sm font-medium hover:text-primary transition-colors <%= currentPage === 'about' ? 'text-primary' : '' %>" href="/about">About</a>
    <a class="text-sm font-medium hover:text-primary transition-colors <%= currentPage === 'contact' ? 'text-primary' : '' %>" href="/contact">Contact</a>
    <a class="text-sm font-medium hover:text-primary transition-colors <%= currentPage === 'blog' ? 'text-primary' : '' %>" href="/blog">Blog</a>
    <a class="text-sm font-medium hover:text-primary transition-colors <%= currentPage === 'join' ? 'text-primary' : '' %>" href="/join">Join</a>
  </nav>

  <div class="flex items-center gap-3">
    <button onclick="location.href='/admin/login'" class="hidden md:flex items-center gap-2 border border-primary text-primary rounded-lg h-10 px-4 text-sm font-bold hover:bg-primary hover:text-white transition-all">
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
      </svg>
      <span class="truncate">Login</span>
    </button>
    <button onclick="location.href='/join'" class="bg-primary text-white rounded-lg h-10 px-4 text-sm font-bold hover:bg-opacity-90 transition-all md:hidden">
      <span class="truncate">Join</span>
    </button>
    <!-- Mobile Menu Button -->
    <button id="mobile-menu-button" class="md:hidden p-2 rounded-lg hover:bg-primary/10 transition-colors" aria-label="Toggle menu">
      <svg id="menu-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
      <svg id="close-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
      </svg>
    </button>
  </div>
</header>

<!-- Mobile Menu Overlay -->
<div id="mobile-menu" class="fixed inset-0 z-40 bg-black/50 backdrop-blur-sm hidden md:hidden">
  <div class="absolute top-16 right-0 left-0 mx-4 bg-background-light dark:bg-background-dark rounded-lg shadow-2xl border border-border-light dark:border-border-dark overflow-hidden">
    <nav class="flex flex-col">
      <a class="px-6 py-4 text-base font-medium hover:bg-primary/10 hover:text-primary transition-colors border-b border-border-light dark:border-border-dark <%= currentPage === 'home' ? 'text-primary bg-primary/5' : '' %>" href="/">Home</a>
      <a class="px-6 py-4 text-base font-medium hover:bg-primary/10 hover:text-primary transition-colors border-b border-border-light dark:border-border-dark <%= currentPage === 'solutions' ? 'text-primary bg-primary/5' : '' %>" href="/solutions">Solutions</a>
      <a class="px-6 py-4 text-base font-medium hover:bg-primary/10 hover:text-primary transition-colors border-b border-border-light dark:border-border-dark <%= currentPage === 'impact' ? 'text-primary bg-primary/5' : '' %>" href="/impact">Impact</a>
      <a class="px-6 py-4 text-base font-medium hover:bg-primary/10 hover:text-primary transition-colors border-b border-border-light dark:border-border-dark <%= currentPage === 'about' ? 'text-primary bg-primary/5' : '' %>" href="/about">About</a>
      <a class="px-6 py-4 text-base font-medium hover:bg-primary/10 hover:text-primary transition-colors border-b border-border-light dark:border-border-dark <%= currentPage === 'contact' ? 'text-primary bg-primary/5' : '' %>" href="/contact">Contact</a>
      <a class="px-6 py-4 text-base font-medium hover:bg-primary/10 hover:text-primary transition-colors border-b border-border-light dark:border-border-dark <%= currentPage === 'blog' ? 'text-primary bg-primary/5' : '' %>" href="/blog">Blog</a>
      <a class="px-6 py-4 text-base font-medium hover:bg-primary/10 hover:text-primary transition-colors border-b border-border-light dark:border-border-dark <%= currentPage === 'join' ? 'text-primary bg-primary/5' : '' %>" href="/join">Join Us</a>
      <a class="px-6 py-4 text-base font-medium hover:bg-primary/10 hover:text-primary transition-colors flex items-center gap-2" href="/admin/login">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
        </svg>
        Admin Login
      </a>
    </nav>
  </div>
</div>

<script>
  // Mobile Menu Toggle
  (function() {
    const menuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const menuIcon = document.getElementById('menu-icon');
    const closeIcon = document.getElementById('close-icon');

    if (menuButton && mobileMenu) {
      menuButton.addEventListener('click', function() {
        const isHidden = mobileMenu.classList.contains('hidden');

        if (isHidden) {
          mobileMenu.classList.remove('hidden');
          menuIcon.classList.add('hidden');
          closeIcon.classList.remove('hidden');
          document.body.style.overflow = 'hidden'; // Prevent scroll
        } else {
          mobileMenu.classList.add('hidden');
          menuIcon.classList.remove('hidden');
          closeIcon.classList.add('hidden');
          document.body.style.overflow = ''; // Restore scroll
        }
      });

      // Close menu when clicking outside
      mobileMenu.addEventListener('click', function(e) {
        if (e.target === mobileMenu) {
          mobileMenu.classList.add('hidden');
          menuIcon.classList.remove('hidden');
          closeIcon.classList.add('hidden');
          document.body.style.overflow = '';
        }
      });

      // Close menu when clicking on a link
      const menuLinks = mobileMenu.querySelectorAll('a');
      menuLinks.forEach(link => {
        link.addEventListener('click', function() {
          mobileMenu.classList.add('hidden');
          menuIcon.classList.remove('hidden');
          closeIcon.classList.add('hidden');
          document.body.style.overflow = '';
        });
      });
    }
  })();
</script>
