<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title><%= title %></title>
  <meta name="description" content="<%= description %>">

  <!-- Favicon - Multiple formats for browser compatibility -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon.png">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon.png">

  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <script>tailwind.config={darkMode:"class",theme:{extend:{colors:{"primary":"#117dd4","background-light":"#f6f7f8","background-dark":"#101a22","text-light":"#101a22","text-dark":"#f6f7f8","surface-light":"#ffffff","surface-dark":"#1b2733","border-light":"#e7eef3","border-dark":"#2a3b4c","muted-light":"#4c779a","muted-dark":"#a0b3c4"},fontFamily:{"display":["Inter","sans-serif"]},borderRadius:{"DEFAULT":"0.5rem","lg":"0.75rem","xl":"1rem","full":"9999px"}}}}</script>
  <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet"/>
  <style>
    .progress-bar { transition: width 0.3s ease; }
    .char-counter { font-size: 0.75rem; color: #6b7280; }
    .char-counter.warning { color: #f59e0b; }
    .char-counter.error { color: #ef4444; }
    .char-counter.success { color: #10b981; }
    .word-counter { font-size: 0.75rem; color: #6b7280; margin-top: 0.25rem; }

    /* Timeline specific styles */
    .timeline-period-card {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .timeline-period-card:hover {
      transform: scale(1.02);
    }

    .timeline-period-card:active {
      transform: scale(0.98);
    }

    .timeline-phase {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .timeline-phase:hover {
      transform: translateX(4px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    @keyframes pulseRing {
      0% {
        transform: scale(0.33);
      }
      40%, 50% {
        opacity: 1;
      }
      100% {
        opacity: 0;
        transform: scale(1.33);
      }
    }

    .pulse-ring {
      animation: pulseRing 1.25s cubic-bezier(0.215, 0.61, 0.355, 1) infinite;
    }

    /* Card gradient enhancements */
    .timeline-period-card .bg-gradient-to-br {
      position: relative;
      overflow: hidden;
    }

    .timeline-period-card .bg-gradient-to-br::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
      transform: translateX(-100%);
      transition: transform 0.6s;
    }

    .timeline-period-card:hover .bg-gradient-to-br::before {
      transform: translateX(100%);
    }

    /* Modal styles */
    .modal-open {
      opacity: 1 !important;
      pointer-events: auto !important;
    }

    .modal-open #modalContent {
      transform: scale(1) !important;
    }

    #periodModal {
      backdrop-filter: blur(8px);
    }

    /* Modal timeline item styles */
    .modal-timeline-item {
      display: flex;
      align-items: center;
      padding: 12px;
      border-radius: 8px;
      transition: background-color 0.2s;
    }

    .modal-timeline-item:hover {
      background-color: rgba(0, 0, 0, 0.05);
    }

    .dark .modal-timeline-item:hover {
      background-color: rgba(255, 255, 255, 0.05);
    }

    .modal-timeline-icon {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 12px;
      font-size: 12px;
      font-weight: bold;
      color: white;
    }
  </style>
</head>
<body class="font-display bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark">
  <div class="relative flex h-auto min-h-screen w-full flex-col">
    <div class="layout-container flex h-full grow flex-col">
      <%- include('../partials/header', { currentPage: currentPage }) %>
      <main class="flex-1">
        <div class="container mx-auto px-4 py-8 sm:px-6 lg:px-8 lg:py-12">
          <div class="max-w-4xl mx-auto">
            
            <!-- Header -->
            <div class="text-center mb-8">
              <h1 class="text-4xl font-extrabold tracking-tight sm:text-5xl mb-4">Work in the Problem Solvers Movement</h1>
              <p class="text-lg text-black/70 dark:text-white/70 max-w-2xl mx-auto mb-6">
                We're looking for curious, committed, and courageous minds to tackle real-world problems through action, collaboration, and innovation.
              </p>
              
              <!-- Timeline Component -->
              <div class="bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-2 border-blue-500 rounded-xl p-6 mb-6">
                <!-- Current Period Info -->
                <div class="text-center mb-6">
                  <p class="text-lg font-bold text-blue-700 dark:text-blue-400 mb-1">
                    <span id="currentPeriodName"></span> Application Period
                  </p>
                  <p class="text-sm text-gray-700 dark:text-gray-300">
                    <strong>20 spots available</strong> - 10 spots per selection process
                  </p>
                  <p class="text-sm text-blue-600 dark:text-blue-400 font-medium">
                    Applications close in <strong><span id="daysRemaining"></span> days</strong>
                  </p>
                </div>

                <!-- Annual Timeline -->
                <div class="mb-8">
                  <h3 class="text-center font-bold text-gray-800 dark:text-gray-200 mb-6">Yearly Application Cycles</h3>

                  <!-- Improved Timeline Design -->
                  <div class="grid md:grid-cols-2 gap-6">
                    <!-- 1st Period Card -->
                    <div id="period1" class="timeline-period-card cursor-pointer transition-all duration-300 hover:scale-105">
                      <div class="bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-2 border-green-500 rounded-xl p-6 shadow-lg hover:shadow-xl">
                        <div class="flex items-center justify-between mb-4">
                          <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center shadow-lg">
                            <span class="text-white font-bold text-lg">1</span>
                          </div>
                          <div class="text-right">
                            <div class="text-xs text-green-600 dark:text-green-400 font-medium">JAN - JUL</div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">6 months</div>
                          </div>
                        </div>
                        <div class="mb-3">
                          <h4 class="text-lg font-bold text-green-700 dark:text-green-400 mb-1">1ST CYCLE</h4>
                          <p class="text-sm text-gray-600 dark:text-gray-300">Applications open in January</p>
                        </div>
                        <div class="space-y-2">
                          <div class="flex justify-between text-xs">
                            <span class="text-gray-500 dark:text-gray-400">Application Period:</span>
                            <span class="font-medium">Jan - Apr</span>
                          </div>
                          <div class="flex justify-between text-xs">
                            <span class="text-gray-500 dark:text-gray-400">Selection Process:</span>
                            <span class="font-medium">May - Jul</span>
                          </div>
                          <div class="flex justify-between text-xs">
                            <span class="text-gray-500 dark:text-gray-400">Results:</span>
                            <span class="font-medium text-green-600 dark:text-green-400">July</span>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- 2nd Period Card -->
                    <div id="period2" class="timeline-period-card cursor-pointer transition-all duration-300 hover:scale-105">
                      <div class="bg-gradient-to-br from-purple-50 to-violet-50 dark:from-purple-900/20 dark:to-violet-900/20 border-2 border-purple-500 rounded-xl p-6 shadow-lg hover:shadow-xl">
                        <div class="flex items-center justify-between mb-4">
                          <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center shadow-lg">
                            <span class="text-white font-bold text-lg">2</span>
                          </div>
                          <div class="text-right">
                            <div class="text-xs text-purple-600 dark:text-purple-400 font-medium">DEC - JUN</div>
                            <div class="text-xs text-gray-500 dark:text-gray-400">7 months</div>
                          </div>
                        </div>
                        <div class="mb-3">
                          <h4 class="text-lg font-bold text-purple-700 dark:text-purple-400 mb-1">2ND CYCLE</h4>
                          <p class="text-sm text-gray-600 dark:text-gray-300">Applications open in December</p>
                        </div>
                        <div class="space-y-2">
                          <div class="flex justify-between text-xs">
                            <span class="text-gray-500 dark:text-gray-400">Application Period:</span>
                            <span class="font-medium">Dec - Mar</span>
                          </div>
                          <div class="flex justify-between text-xs">
                            <span class="text-gray-500 dark:text-gray-400">Selection Process:</span>
                            <span class="font-medium">Apr - Jun</span>
                          </div>
                          <div class="flex justify-between text-xs">
                            <span class="text-gray-500 dark:text-gray-400">Results:</span>
                            <span class="font-medium text-purple-600 dark:text-purple-400">June</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Period Indicator -->
                  <div class="text-center mt-6">
                    <div id="currentPeriodIndicator" class="inline-flex items-center gap-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-full px-6 py-3 shadow-md">
                      <div class="w-3 h-3 bg-blue-500 rounded-full animate-pulse"></div>
                      <span class="text-sm font-medium text-gray-700 dark:text-gray-300">
                        Currently in: <span id="activePeriodName" class="font-bold text-blue-600 dark:text-blue-400"></span>
                      </span>
                    </div>
                  </div>
                </div>

                <!-- Current Period Phase Timeline -->
                <div id="phaseTimeline">
                  <h4 class="text-center font-bold text-gray-800 dark:text-gray-200 mb-4">
                    <span id="currentPeriodPhases"></span> Selection Process
                  </h4>

                  <!-- Phase Steps -->
                  <div class="space-y-3">
                    <div id="phase1" class="timeline-phase flex items-center p-3 rounded-lg transition-all duration-300">
                      <div class="flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm mr-4">1</div>
                      <div class="flex-grow">
                        <div class="font-semibold text-sm">Application Submission</div>
                        <div class="text-xs text-gray-600 dark:text-gray-400">Weeks 1-4: Complete application (all sections + video)</div>
                      </div>
                      <div class="phase-status text-xs px-2 py-1 rounded-full font-medium"></div>
                    </div>

                    <div id="phase2" class="timeline-phase flex items-center p-3 rounded-lg transition-all duration-300">
                      <div class="flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm mr-4">2</div>
                      <div class="flex-grow">
                        <div class="font-semibold text-sm">Committee Review</div>
                        <div class="text-xs text-gray-600 dark:text-gray-400">Week 5: Review process (30-40 finalists selected)</div>
                      </div>
                      <div class="phase-status text-xs px-2 py-1 rounded-full font-medium"></div>
                    </div>

                    <div id="phase3" class="timeline-phase flex items-center p-3 rounded-lg transition-all duration-300">
                      <div class="flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm mr-4">3</div>
                      <div class="flex-grow">
                        <div class="font-semibold text-sm">Interview Panel</div>
                        <div class="text-xs text-gray-600 dark:text-gray-400">Week 8: 60-minute interviews (15-20 advance)</div>
                      </div>
                      <div class="phase-status text-xs px-2 py-1 rounded-full font-medium"></div>
                    </div>

                    <div id="phase4" class="timeline-phase flex items-center p-3 rounded-lg transition-all duration-300">
                      <div class="flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm mr-4">4</div>
                      <div class="flex-grow">
                        <div class="font-semibold text-sm">Final Hackathon</div>
                        <div class="text-xs text-gray-600 dark:text-gray-400">Weekend 9: 2-day online hackathon</div>
                      </div>
                      <div class="phase-status text-xs px-2 py-1 rounded-full font-medium"></div>
                    </div>

                    <div id="phase5" class="timeline-phase flex items-center p-3 rounded-lg transition-all duration-300">
                      <div class="flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm mr-4">5</div>
                      <div class="flex-grow">
                        <div class="font-semibold text-sm">Results & Onboarding</div>
                        <div class="text-xs text-gray-600 dark:text-gray-400">Week 10: Final results (10 selected)</div>
                      </div>
                      <div class="phase-status text-xs px-2 py-1 rounded-full font-medium"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Progress Indicator -->
            <div class="mb-8">
              <div class="flex justify-between items-center mb-2">
                <span id="progress-text" class="text-sm font-medium text-gray-700 dark:text-gray-300">Basic Information</span>
                <span id="progress-percentage" class="text-sm font-medium text-gray-700 dark:text-gray-300">0%</span>
              </div>
              <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                <div id="progress-bar" class="progress-bar bg-primary h-2 rounded-full" style="width: 0%"></div>
              </div>
            </div>

            <!-- Form -->
            <form id="applicationForm" class="space-y-8">
              
              <!-- SECTION 1: Basic Information -->
              <div id="section-1" class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md">
                <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                  <span class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold">1</span>
                  Basic Information
                </h2>
                <div class="space-y-5">
                  <div>
                    <label for="email" class="block text-sm font-medium mb-1">Email <span class="text-red-500">*</span></label>
                    <input type="email" id="email" name="email" required
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                  </div>
                  <div>
                    <label for="fullName" class="block text-sm font-medium mb-1">Full Name <span class="text-red-500">*</span></label>
                    <input type="text" id="fullName" name="fullName" required
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                  </div>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                    <div>
                      <label for="linkedin" class="block text-sm font-medium mb-1">LinkedIn Account</label>
                      <input type="url" id="linkedin" name="linkedin" placeholder="https://linkedin.com/in/yourprofile"
                        class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                    </div>
                    <div>
                      <label for="instagram" class="block text-sm font-medium mb-1">Instagram Account</label>
                      <input type="text" id="instagram" name="instagram" placeholder="@yourusername"
                        class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                    </div>
                  </div>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                    <div>
                      <label for="location" class="block text-sm font-medium mb-1">Where are you from? <span class="text-red-500">*</span></label>
                      <input type="text" id="location" name="location" required placeholder="City, Country"
                        class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                    </div>
                    <div>
                      <label for="age" class="block text-sm font-medium mb-1">Your Age <span class="text-red-500">*</span></label>
                      <input type="number" id="age" name="age" required min="16" max="99"
                        class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                    </div>
                  </div>
                </div>
                <div class="mt-6 flex justify-end">
                  <button type="button" onclick="nextSection(2)" class="bg-primary text-white rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    Next →
                  </button>
                </div>
              </div>

              <!-- SECTION 2: Motivation and Purpose -->
              <div id="section-2" class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md hidden">
                <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                  <span class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold">2</span>
                  Motivation and Purpose
                </h2>
                <div class="space-y-5">
                  <div>
                    <label for="motivation" class="block text-sm font-medium mb-1">
                      Why do you want to join Problem Solvers? <span class="text-red-500">*</span>
                    </label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Tell us what drives you and what kind of impact you want to create.</p>
                    <textarea id="motivation" name="motivation" rows="6" required minlength="100"
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"
                      oninput="updateCharCount('motivation', 100)"></textarea>
                    <span id="motivation-counter" class="char-counter">0 / 100 characters minimum</span>
                  </div>
                </div>
                <div class="mt-6 flex justify-between">
                  <button type="button" onclick="prevSection(1)" class="bg-gray-300 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    ← Previous
                  </button>
                  <button type="button" onclick="nextSection(3)" class="bg-primary text-white rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    Next →
                  </button>
                </div>
              </div>

              <!-- SECTION 3: Projects, Skills & Collaboration -->
              <div id="section-3" class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md hidden">
                <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                  <span class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold">3</span>
                  Projects, Skills & Collaboration
                </h2>
                <div class="space-y-6">
                  <!-- Project Status -->
                  <div>
                    <label class="block text-sm font-medium mb-3">Do you already have a project or idea you're working on? <span class="text-red-500">*</span></label>
                    <div class="space-y-2">
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="hasProject" value="yes" required onchange="toggleProjectDescription(true)"
                          class="text-primary focus:ring-primary">
                        <span>Yes</span>
                      </label>
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="hasProject" value="no" required onchange="toggleProjectDescription(false)"
                          class="text-primary focus:ring-primary">
                        <span>No</span>
                      </label>
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="hasProject" value="maybe" required onchange="toggleProjectDescription(true)"
                          class="text-primary focus:ring-primary">
                        <span>Maybe</span>
                      </label>
                    </div>
                  </div>
                  
                  <!-- Project Description (conditional) -->
                  <div id="projectDescription" class="hidden">
                    <label for="projectDetails" class="block text-sm font-medium mb-1">Briefly describe it</label>
                    <textarea id="projectDetails" name="projectDetails" rows="4" maxlength="300"
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"
                      oninput="updateCharCount('projectDetails', 0, 300)"></textarea>
                    <span id="projectDetails-counter" class="char-counter">0 / 300 characters maximum</span>
                  </div>

                  <!-- Problem Areas -->
                  <div>
                    <label for="problemAreas" class="block text-sm font-medium mb-1">What problems are you most passionate about solving? <span class="text-red-500">*</span></label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Examples: climate change, inequality, education, mental health, innovation, technology access, entrepreneurship, community development</p>
                    <textarea id="problemAreas" name="problemAreas" rows="3" required
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"></textarea>
                  </div>

                  <!-- Skills -->
                  <div>
                    <label class="block text-sm font-medium mb-3">Which skills do you bring to the table? <span class="text-red-500">*</span></label>
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="skills" value="coding" class="rounded text-primary focus:ring-primary">
                        <span class="text-sm">Coding</span>
                      </label>
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="skills" value="design" class="rounded text-primary focus:ring-primary">
                        <span class="text-sm">Design</span>
                      </label>
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="skills" value="storytelling" class="rounded text-primary focus:ring-primary">
                        <span class="text-sm">Storytelling</span>
                      </label>
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="skills" value="organizing" class="rounded text-primary focus:ring-primary">
                        <span class="text-sm">Organizing</span>
                      </label>
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="skills" value="finance" class="rounded text-primary focus:ring-primary">
                        <span class="text-sm">Finance</span>
                      </label>
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="skills" value="research" class="rounded text-primary focus:ring-primary">
                        <span class="text-sm">Research</span>
                      </label>
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="skills" value="marketing" class="rounded text-primary focus:ring-primary">
                        <span class="text-sm">Marketing</span>
                      </label>
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="skills" value="data-analysis" class="rounded text-primary focus:ring-primary">
                        <span class="text-sm">Data Analysis</span>
                      </label>
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="checkbox" name="skills" value="project-management" class="rounded text-primary focus:ring-primary">
                        <span class="text-sm">Project Management</span>
                      </label>
                    </div>
                    <div class="mt-3">
                      <input type="text" name="skillsOther" placeholder="Other skills (separate with commas)"
                        class="block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-2 text-sm text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                    </div>
                  </div>

                  <!-- Collaboration -->
                  <div>
                    <label class="block text-sm font-medium mb-3">Are you interested in collaborating with others? <span class="text-red-500">*</span></label>
                    <div class="space-y-2">
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="collaboration" value="yes" required class="text-primary focus:ring-primary">
                        <span>Yes, I'd love to collaborate</span>
                      </label>
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="collaboration" value="maybe" required class="text-primary focus:ring-primary">
                        <span>Maybe, depends on the project</span>
                      </label>
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="collaboration" value="solo" required class="text-primary focus:ring-primary">
                        <span>I prefer to work solo</span>
                      </label>
                    </div>
                  </div>

                  <!-- Additional Info -->
                  <div>
                    <label for="additionalInfo" class="block text-sm font-medium mb-1">Anything else you'd like to share?</label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">This is your space to express yourself. We're listening.</p>
                    <textarea id="additionalInfo" name="additionalInfo" rows="4"
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"></textarea>
                  </div>
                </div>
                <div class="mt-6 flex justify-between">
                  <button type="button" onclick="prevSection(2)" class="bg-gray-300 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    ← Previous
                  </button>
                  <button type="button" onclick="nextSection(4)" class="bg-primary text-white rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    Next →
                  </button>
                </div>
              </div>

              <!-- SECTION 4: Personal Story & Achievements -->
              <div id="section-4" class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md hidden">
                <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                  <span class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold">4</span>
                  Your Story & Achievements
                </h2>
                <div class="space-y-6">
                  <!-- Personal Story -->
                  <div>
                    <label for="personalStory" class="block text-sm font-medium mb-1">Tell us your story <span class="text-red-500">*</span></label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">
                      Where do you come from? What shaped who you are today? What experiences, challenges, or turning points made you the person you are now?
                    </p>
                    <textarea id="personalStory" name="personalStory" rows="8" required
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"
                      oninput="updateWordCount('personalStory', 100)"></textarea>
                    <span id="personalStory-counter" class="word-counter">0 words (minimum 100 words)</span>
                  </div>

                  <!-- Top 3 Achievements -->
                  <div>
                    <label class="block text-sm font-medium mb-3">What are your top 3 achievements in the last 3 years? <span class="text-red-500">*</span></label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
                      List them in order of personal significance. For each: What you did, why it mattered, what impact it had (use numbers/evidence when possible).
                    </p>
                    
                    <div class="space-y-4">
                      <div>
                        <label for="achievement1" class="block text-sm font-medium mb-1">Achievement #1 <span class="text-red-500">*</span></label>
                        <textarea id="achievement1" name="achievement1" rows="4" required
                          class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"
                          oninput="updateWordCount('achievement1', 100)"></textarea>
                        <span id="achievement1-counter" class="word-counter">0 words (minimum 100 words)</span>
                      </div>
                      
                      <div>
                        <label for="achievement2" class="block text-sm font-medium mb-1">Achievement #2 <span class="text-red-500">*</span></label>
                        <textarea id="achievement2" name="achievement2" rows="4" required
                          class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"
                          oninput="updateWordCount('achievement2', 100)"></textarea>
                        <span id="achievement2-counter" class="word-counter">0 words (minimum 100 words)</span>
                      </div>
                      
                      <div>
                        <label for="achievement3" class="block text-sm font-medium mb-1">Achievement #3 <span class="text-red-500">*</span></label>
                        <textarea id="achievement3" name="achievement3" rows="4" required
                          class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"
                          oninput="updateWordCount('achievement3', 100)"></textarea>
                        <span id="achievement3-counter" class="word-counter">0 words (minimum 100 words)</span>
                      </div>
                    </div>
                  </div>

                  <!-- Recognition -->
                  <div>
                    <label for="recognition" class="block text-sm font-medium mb-1">Have you received any awards, scholarships, or recognition?</label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">If yes, describe the most meaningful one and why it matters to you.</p>
                    <textarea id="recognition" name="recognition" rows="3"
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"></textarea>
                  </div>
                </div>
                <div class="mt-6 flex justify-between">
                  <button type="button" onclick="prevSection(3)" class="bg-gray-300 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    ← Previous
                  </button>
                  <button type="button" onclick="nextSection(5)" class="bg-primary text-white rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    Next →
                  </button>
                </div>
              </div>

              <!-- SECTION 5: Leadership & Impact -->
              <div id="section-5" class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md hidden">
                <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                  <span class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold">5</span>
                  Leadership & Impact
                </h2>
                <div class="space-y-6">
                  <!-- Leading Change -->
                  <div>
                    <label for="leadingChange" class="block text-sm font-medium mb-1">Describe a moment when you led a change <span class="text-red-500">*</span></label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">
                      What was the situation? What change did you want to create? How did you mobilize others? What was the outcome?
                    </p>
                    <textarea id="leadingChange" name="leadingChange" rows="8" required
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"
                      oninput="updateWordCount('leadingChange', 100)"></textarea>
                    <span id="leadingChange-counter" class="word-counter">0 words (minimum 100 words)</span>
                  </div>

                  <!-- Project from Scratch -->
                  <div>
                    <label for="projectFromScratch" class="block text-sm font-medium mb-1">Describe a project you led from scratch <span class="text-red-500">*</span></label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">
                      What problem were you solving? How did you go from idea to execution? Who did you involve? What were the measurable results?
                    </p>
                    <textarea id="projectFromScratch" name="projectFromScratch" rows="8" required
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"
                      oninput="updateWordCount('projectFromScratch', 100)"></textarea>
                    <span id="projectFromScratch-counter" class="word-counter">0 words (minimum 100 words)</span>
                  </div>

                  <!-- Social Impact -->
                  <div>
                    <label for="socialImpact" class="block text-sm font-medium mb-1">What problem in your country (or the world) do you most want to solve and why? <span class="text-red-500">*</span></label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">
                      Why does this problem matter to you personally? What have you already done to address it? What would you do if you had unlimited resources?
                    </p>
                    <textarea id="socialImpact" name="socialImpact" rows="6" required
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"
                      oninput="updateWordCount('socialImpact', 100)"></textarea>
                    <span id="socialImpact-counter" class="word-counter">0 words (minimum 100 words)</span>
                  </div>
                </div>
                <div class="mt-6 flex justify-between">
                  <button type="button" onclick="prevSection(4)" class="bg-gray-300 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    ← Previous
                  </button>
                  <button type="button" onclick="nextSection(6)" class="bg-primary text-white rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    Next →
                  </button>
                </div>
              </div>

              <!-- SECTION 6: Resilience & Learning -->
              <div id="section-6" class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md hidden">
                <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                  <span class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold">6</span>
                  Resilience & Learning
                </h2>
                <div class="space-y-6">
                  <!-- Biggest Challenge -->
                  <div>
                    <label for="biggestChallenge" class="block text-sm font-medium mb-1">What was your biggest challenge and how did you overcome it? <span class="text-red-500">*</span></label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">
                      Describe the situation in detail. What made it so difficult? What strategies did you use to overcome it? What did you learn about yourself?
                    </p>
                    <textarea id="biggestChallenge" name="biggestChallenge" rows="8" required
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"
                      oninput="updateWordCount('biggestChallenge', 100)"></textarea>
                    <span id="biggestChallenge-counter" class="word-counter">0 words (minimum 100 words)</span>
                  </div>

                  <!-- Significant Failure -->
                  <div>
                    <label for="significantFailure" class="block text-sm font-medium mb-1">Tell us about a significant failure <span class="text-red-500">*</span></label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">
                      What happened? How did you feel? What did you learn? How did this failure change your approach?
                    </p>
                    <textarea id="significantFailure" name="significantFailure" rows="6" required
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"
                      oninput="updateWordCount('significantFailure', 100)"></textarea>
                    <span id="significantFailure-counter" class="word-counter">0 words (minimum 100 words)</span>
                  </div>

                  <!-- Development -->
                  <div>
                    <label for="development" class="block text-sm font-medium mb-1">How have you developed yourself in the last 2 years? <span class="text-red-500">*</span></label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">
                      Give concrete examples. What new skills did you acquire? What books, courses, or experiences shaped your thinking? How did you step out of your comfort zone?
                    </p>
                    <textarea id="development" name="development" rows="6" required
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"
                      oninput="updateWordCount('development', 100)"></textarea>
                    <span id="development-counter" class="word-counter">0 words (minimum 100 words)</span>
                  </div>

                  <!-- Future Vision -->
                  <div>
                    <label for="futureVision" class="block text-sm font-medium mb-1">Where do you see yourself in 5 years? <span class="text-red-500">*</span></label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">
                      What impact do you want to have made? What kind of leader do you want to become? How does Problem Solvers fit into this vision?
                    </p>
                    <textarea id="futureVision" name="futureVision" rows="5" required
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"
                      oninput="updateWordCount('futureVision', 100)"></textarea>
                    <span id="futureVision-counter" class="word-counter">0 words (minimum 100 words)</span>
                  </div>
                </div>
                <div class="mt-6 flex justify-between">
                  <button type="button" onclick="prevSection(5)" class="bg-gray-300 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    ← Previous
                  </button>
                  <button type="button" onclick="nextSection(7)" class="bg-primary text-white rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    Next →
                  </button>
                </div>
              </div>

              <!-- SECTION 7: Values & Ethics -->
              <div id="section-7" class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md hidden">
                <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                  <span class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold">7</span>
                  Values & Ethics
                </h2>
                <div class="space-y-6">
                  <!-- Unique Value Proposition -->
                  <div>
                    <label for="uniqueValue" class="block text-sm font-medium mb-1">Why you and not another equally qualified candidate? <span class="text-red-500">*</span></label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">
                      What makes you uniquely suited for this movement? What perspective, experience, or skill do you bring that others might not?
                    </p>
                    <textarea id="uniqueValue" name="uniqueValue" rows="5" required
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"
                      oninput="updateWordCount('uniqueValue', 100)"></textarea>
                    <span id="uniqueValue-counter" class="word-counter">0 words (minimum 100 words)</span>
                  </div>

                  <!-- Ethical Dilemma -->
                  <div>
                    <label for="ethicalDilemma" class="block text-sm font-medium mb-1">Ethical Dilemma Response <span class="text-red-500">*</span></label>
                    <div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700 rounded-lg p-4 mb-3">
                      <p class="text-sm text-gray-800 dark:text-gray-200">
                        <strong>Scenario:</strong> You're leading a project with a tight deadline. A team member is underperforming and putting the project at risk. They're going through personal difficulties. What do you do?
                      </p>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">
                      Describe your decision-making process. What factors would you consider? What would you actually do?
                    </p>
                    <textarea id="ethicalDilemma" name="ethicalDilemma" rows="5" required
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"
                      oninput="updateWordCount('ethicalDilemma', 100)"></textarea>
                    <span id="ethicalDilemma-counter" class="word-counter">0 words (minimum 100 words)</span>
                  </div>

                  <!-- Leadership vs Recognition -->
                  <div>
                    <label for="leadershipVsRecognition" class="block text-sm font-medium mb-1">Collaboration vs. Protagonism <span class="text-red-500">*</span></label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">
                      What's more important to you: being recognized as the leader, or seeing the project succeed? Explain your answer with a real example.
                    </p>
                    <textarea id="leadershipVsRecognition" name="leadershipVsRecognition" rows="5" required
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"
                      oninput="updateWordCount('leadershipVsRecognition', 100)"></textarea>
                    <span id="leadershipVsRecognition-counter" class="word-counter">0 words (minimum 100 words)</span>
                  </div>

                  <!-- Top 3 Values -->
                  <div>
                    <label class="block text-sm font-medium mb-3">What are your top 3 non-negotiable values? <span class="text-red-500">*</span></label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">For each value, describe a moment when you had to defend it.</p>
                    
                    <div class="space-y-4">
                      <div>
                        <label for="value1" class="block text-sm font-medium mb-1">Value #1 <span class="text-red-500">*</span></label>
                        <input type="text" id="value1Name" name="value1Name" required placeholder="e.g., Integrity"
                          class="mb-2 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-2 text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                        <textarea id="value1" name="value1" rows="3" required placeholder="Describe a moment when you had to defend this value..."
                          class="block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"></textarea>
                      </div>
                      
                      <div>
                        <label for="value2" class="block text-sm font-medium mb-1">Value #2 <span class="text-red-500">*</span></label>
                        <input type="text" id="value2Name" name="value2Name" required placeholder="e.g., Empathy"
                          class="mb-2 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-2 text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                        <textarea id="value2" name="value2" rows="3" required placeholder="Describe a moment when you had to defend this value..."
                          class="block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"></textarea>
                      </div>
                      
                      <div>
                        <label for="value3" class="block text-sm font-medium mb-1">Value #3 <span class="text-red-500">*</span></label>
                        <input type="text" id="value3Name" name="value3Name" required placeholder="e.g., Courage"
                          class="mb-2 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-2 text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                        <textarea id="value3" name="value3" rows="3" required placeholder="Describe a moment when you had to defend this value..."
                          class="block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"></textarea>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="mt-6 flex justify-between">
                  <button type="button" onclick="prevSection(6)" class="bg-gray-300 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    ← Previous
                  </button>
                  <button type="button" onclick="nextSection(8)" class="bg-primary text-white rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    Next →
                  </button>
                </div>
              </div>

              <!-- SECTION 8: Commitment & Availability -->
              <div id="section-8" class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md hidden">
                <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                  <span class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold">8</span>
                  Commitment & Availability
                </h2>
                <div class="space-y-6">
                  <!-- Time Commitment -->
                  <div>
                    <label class="block text-sm font-medium mb-3">How many hours per week can you realistically commit to Problem Solvers? <span class="text-red-500">*</span></label>
                    <div class="space-y-2">
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="timeCommitment" value="2-5" required class="text-primary focus:ring-primary">
                        <span>2-5 hours</span>
                      </label>
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="timeCommitment" value="5-10" required class="text-primary focus:ring-primary">
                        <span>5-10 hours</span>
                      </label>
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="timeCommitment" value="10-15" required class="text-primary focus:ring-primary">
                        <span>10-15 hours</span>
                      </label>
                      <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" name="timeCommitment" value="15+" required class="text-primary focus:ring-primary">
                        <span>15+ hours</span>
                      </label>
                    </div>
                  </div>

                  <!-- Potential Obstacles -->
                  <div>
                    <label for="obstacles" class="block text-sm font-medium mb-1">What might prevent you from maintaining this commitment? <span class="text-red-500">*</span></label>
                    <textarea id="obstacles" name="obstacles" rows="3" required
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"></textarea>
                  </div>

                  <!-- Intrinsic Motivation -->
                  <div>
                    <label for="intrinsicMotivation" class="block text-sm font-medium mb-1">What will keep you engaged when things get difficult? <span class="text-red-500">*</span></label>
                    <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-700 rounded-lg p-4 mb-3">
                      <p class="text-sm text-gray-800 dark:text-gray-200">
                        <strong>Remember:</strong> This is a volunteer movement with no financial compensation.
                      </p>
                    </div>
                    <textarea id="intrinsicMotivation" name="intrinsicMotivation" rows="5" required
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary"
                      oninput="updateWordCount('intrinsicMotivation', 100)"></textarea>
                    <span id="intrinsicMotivation-counter" class="word-counter">0 words (minimum 100 words)</span>
                  </div>
                </div>
                <div class="mt-6 flex justify-between">
                  <button type="button" onclick="prevSection(7)" class="bg-gray-300 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    ← Previous
                  </button>
                  <button type="button" onclick="nextSection(9)" class="bg-primary text-white rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    Next →
                  </button>
                </div>
              </div>

              <!-- SECTION 9: Grit Scale Assessment -->
              <div id="section-9" class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md hidden">
                <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                  <span class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold">9</span>
                  Grit Scale Assessment
                </h2>
                <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-700 rounded-lg p-4 mb-6">
                  <p class="text-sm text-gray-800 dark:text-gray-200">
                    <strong>Instructions:</strong> Please respond honestly to the following 12 items. There are no right or wrong answers! This assessment measures your perseverance and passion for long-term goals.
                  </p>
                </div>
                
                <div class="space-y-5">
                  <!-- Grit Questions -->
                  <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
                    <p class="text-sm font-medium mb-3">1. I have overcome setbacks to conquer an important challenge.</p>
                    <div class="space-y-2">
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit1" value="5" required class="text-primary focus:ring-primary"><span class="text-sm">Very much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit1" value="4" required class="text-primary focus:ring-primary"><span class="text-sm">Mostly like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit1" value="3" required class="text-primary focus:ring-primary"><span class="text-sm">Somewhat like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit1" value="2" required class="text-primary focus:ring-primary"><span class="text-sm">Not much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit1" value="1" required class="text-primary focus:ring-primary"><span class="text-sm">Not like me at all</span></label>
                    </div>
                  </div>

                  <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
                    <p class="text-sm font-medium mb-3">2. New ideas and projects sometimes distract me from previous ones. <span class="text-xs text-gray-500">(Reverse scored)</span></p>
                    <div class="space-y-2">
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit2" value="1" required class="text-primary focus:ring-primary"><span class="text-sm">Very much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit2" value="2" required class="text-primary focus:ring-primary"><span class="text-sm">Mostly like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit2" value="3" required class="text-primary focus:ring-primary"><span class="text-sm">Somewhat like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit2" value="4" required class="text-primary focus:ring-primary"><span class="text-sm">Not much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit2" value="5" required class="text-primary focus:ring-primary"><span class="text-sm">Not like me at all</span></label>
                    </div>
                  </div>

                  <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
                    <p class="text-sm font-medium mb-3">3. My interests change from year to year. <span class="text-xs text-gray-500">(Reverse scored)</span></p>
                    <div class="space-y-2">
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit3" value="1" required class="text-primary focus:ring-primary"><span class="text-sm">Very much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit3" value="2" required class="text-primary focus:ring-primary"><span class="text-sm">Mostly like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit3" value="3" required class="text-primary focus:ring-primary"><span class="text-sm">Somewhat like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit3" value="4" required class="text-primary focus:ring-primary"><span class="text-sm">Not much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit3" value="5" required class="text-primary focus:ring-primary"><span class="text-sm">Not like me at all</span></label>
                    </div>
                  </div>

                  <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
                    <p class="text-sm font-medium mb-3">4. Setbacks don't discourage me.</p>
                    <div class="space-y-2">
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit4" value="5" required class="text-primary focus:ring-primary"><span class="text-sm">Very much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit4" value="4" required class="text-primary focus:ring-primary"><span class="text-sm">Mostly like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit4" value="3" required class="text-primary focus:ring-primary"><span class="text-sm">Somewhat like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit4" value="2" required class="text-primary focus:ring-primary"><span class="text-sm">Not much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit4" value="1" required class="text-primary focus:ring-primary"><span class="text-sm">Not like me at all</span></label>
                    </div>
                  </div>

                  <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
                    <p class="text-sm font-medium mb-3">5. I have been obsessed with a certain idea or project for a short time but later lost interest. <span class="text-xs text-gray-500">(Reverse scored)</span></p>
                    <div class="space-y-2">
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit5" value="1" required class="text-primary focus:ring-primary"><span class="text-sm">Very much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit5" value="2" required class="text-primary focus:ring-primary"><span class="text-sm">Mostly like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit5" value="3" required class="text-primary focus:ring-primary"><span class="text-sm">Somewhat like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit5" value="4" required class="text-primary focus:ring-primary"><span class="text-sm">Not much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit5" value="5" required class="text-primary focus:ring-primary"><span class="text-sm">Not like me at all</span></label>
                    </div>
                  </div>

                  <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
                    <p class="text-sm font-medium mb-3">6. I am a hard worker.</p>
                    <div class="space-y-2">
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit6" value="5" required class="text-primary focus:ring-primary"><span class="text-sm">Very much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit6" value="4" required class="text-primary focus:ring-primary"><span class="text-sm">Mostly like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit6" value="3" required class="text-primary focus:ring-primary"><span class="text-sm">Somewhat like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit6" value="2" required class="text-primary focus:ring-primary"><span class="text-sm">Not much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit6" value="1" required class="text-primary focus:ring-primary"><span class="text-sm">Not like me at all</span></label>
                    </div>
                  </div>

                  <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
                    <p class="text-sm font-medium mb-3">7. I often set a goal but later choose to pursue a different one. <span class="text-xs text-gray-500">(Reverse scored)</span></p>
                    <div class="space-y-2">
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit7" value="1" required class="text-primary focus:ring-primary"><span class="text-sm">Very much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit7" value="2" required class="text-primary focus:ring-primary"><span class="text-sm">Mostly like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit7" value="3" required class="text-primary focus:ring-primary"><span class="text-sm">Somewhat like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit7" value="4" required class="text-primary focus:ring-primary"><span class="text-sm">Not much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit7" value="5" required class="text-primary focus:ring-primary"><span class="text-sm">Not like me at all</span></label>
                    </div>
                  </div>

                  <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
                    <p class="text-sm font-medium mb-3">8. I have difficulty maintaining my focus on projects that take more than a few months to complete. <span class="text-xs text-gray-500">(Reverse scored)</span></p>
                    <div class="space-y-2">
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit8" value="1" required class="text-primary focus:ring-primary"><span class="text-sm">Very much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit8" value="2" required class="text-primary focus:ring-primary"><span class="text-sm">Mostly like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit8" value="3" required class="text-primary focus:ring-primary"><span class="text-sm">Somewhat like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit8" value="4" required class="text-primary focus:ring-primary"><span class="text-sm">Not much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit8" value="5" required class="text-primary focus:ring-primary"><span class="text-sm">Not like me at all</span></label>
                    </div>
                  </div>

                  <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
                    <p class="text-sm font-medium mb-3">9. I finish whatever I begin.</p>
                    <div class="space-y-2">
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit9" value="5" required class="text-primary focus:ring-primary"><span class="text-sm">Very much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit9" value="4" required class="text-primary focus:ring-primary"><span class="text-sm">Mostly like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit9" value="3" required class="text-primary focus:ring-primary"><span class="text-sm">Somewhat like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit9" value="2" required class="text-primary focus:ring-primary"><span class="text-sm">Not much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit9" value="1" required class="text-primary focus:ring-primary"><span class="text-sm">Not like me at all</span></label>
                    </div>
                  </div>

                  <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
                    <p class="text-sm font-medium mb-3">10. I have achieved a goal that took years of work.</p>
                    <div class="space-y-2">
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit10" value="5" required class="text-primary focus:ring-primary"><span class="text-sm">Very much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit10" value="4" required class="text-primary focus:ring-primary"><span class="text-sm">Mostly like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit10" value="3" required class="text-primary focus:ring-primary"><span class="text-sm">Somewhat like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit10" value="2" required class="text-primary focus:ring-primary"><span class="text-sm">Not much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit10" value="1" required class="text-primary focus:ring-primary"><span class="text-sm">Not like me at all</span></label>
                    </div>
                  </div>

                  <div class="border-b border-gray-200 dark:border-gray-700 pb-4">
                    <p class="text-sm font-medium mb-3">11. I become interested in new pursuits every few months. <span class="text-xs text-gray-500">(Reverse scored)</span></p>
                    <div class="space-y-2">
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit11" value="1" required class="text-primary focus:ring-primary"><span class="text-sm">Very much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit11" value="2" required class="text-primary focus:ring-primary"><span class="text-sm">Mostly like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit11" value="3" required class="text-primary focus:ring-primary"><span class="text-sm">Somewhat like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit11" value="4" required class="text-primary focus:ring-primary"><span class="text-sm">Not much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit11" value="5" required class="text-primary focus:ring-primary"><span class="text-sm">Not like me at all</span></label>
                    </div>
                  </div>

                  <div class="pb-4">
                    <p class="text-sm font-medium mb-3">12. I am diligent.</p>
                    <div class="space-y-2">
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit12" value="5" required class="text-primary focus:ring-primary"><span class="text-sm">Very much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit12" value="4" required class="text-primary focus:ring-primary"><span class="text-sm">Mostly like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit12" value="3" required class="text-primary focus:ring-primary"><span class="text-sm">Somewhat like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit12" value="2" required class="text-primary focus:ring-primary"><span class="text-sm">Not much like me</span></label>
                      <label class="flex items-center gap-2 cursor-pointer"><input type="radio" name="grit12" value="1" required class="text-primary focus:ring-primary"><span class="text-sm">Not like me at all</span></label>
                    </div>
                  </div>
                </div>

                <!-- Grit Score Display -->
                <div id="gritScoreDisplay" class="bg-blue-50 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-700 rounded-lg p-4 mt-6 hidden">
                  <p class="text-sm font-bold text-blue-700 dark:text-blue-400 mb-2">Your Grit Score: <span id="gritScore">0.00</span> / 5.00</p>
                  <p id="gritInterpretation" class="text-sm text-gray-700 dark:text-gray-300"></p>
                </div>

                <div class="mt-6 flex justify-between">
                  <button type="button" onclick="prevSection(8)" class="bg-gray-300 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    ← Previous
                  </button>
                  <button type="button" onclick="calculateGritAndNext()" class="bg-primary text-white rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    Calculate Grit Score & Continue →
                  </button>
                </div>
              </div>

              <!-- SECTION 10: Video Presentation & References -->
              <div id="section-10" class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md hidden">
                <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                  <span class="w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold">10</span>
                  Video Presentation & References
                </h2>
                
                <!-- Video Presentation -->
                <div class="space-y-6">
                  <div>
                    <label for="videoUrl" class="block text-sm font-medium mb-1">YouTube Video Link <span class="text-red-500">*</span></label>
                    <div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700 rounded-lg p-4 mb-3">
                      <p class="text-sm font-bold text-yellow-800 dark:text-yellow-300 mb-2">Video Requirements:</p>
                      <ul class="text-sm text-gray-700 dark:text-gray-300 space-y-1">
                        <li>✓ <strong>Duration:</strong> 2-3 minutes (videos over 3:30 will not be reviewed)</li>
                        <li>✓ <strong>Platform:</strong> YouTube only (required)</li>
                        <li>✓ <strong>Privacy:</strong> Must be PUBLIC (not unlisted or private)</li>
                        <li>✓ <strong>Title Format:</strong> "Problem Solvers Foundation - Admission Proposal <span id="videoYear"></span> <span id="videoMoment"></span>"</li>
                      </ul>
                      <p class="text-xs text-gray-600 dark:text-gray-400 mt-2">
                        Example: "Problem Solvers Foundation - Admission Proposal 2025 1st cycle"
                      </p>
                    </div>
                    <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-700 rounded-lg p-4 mb-3">
                      <p class="text-sm font-bold text-blue-700 dark:text-blue-400 mb-2">What to include in your video:</p>
                      <ul class="text-sm text-gray-700 dark:text-gray-300 space-y-1">
                        <li>• Who you are beyond the form</li>
                        <li>• What drives you</li>
                        <li>• Why this movement matters to you</li>
                        <li>• What you hope to contribute and learn</li>
                      </ul>
                      <p class="text-xs text-gray-600 dark:text-gray-400 mt-2">
                        <strong>Remember:</strong> Be authentic - we value genuineness over production quality!
                      </p>
                    </div>
                    <input type="url" id="videoUrl" name="videoUrl" required 
                      placeholder="https://www.youtube.com/watch?v=..."
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                    <p class="text-xs text-red-500 mt-1">⚠️ Videos that don't follow the requirements will be automatically disqualified</p>
                  </div>

                  <!-- Supporting Materials (Optional) -->
                  <div>
                    <label for="portfolioUrl" class="block text-sm font-medium mb-1">Portfolio / Additional Materials (Optional)</label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">
                      Link to your portfolio, articles, project documentation, or any other relevant materials
                    </p>
                    <input type="url" id="portfolioUrl" name="portfolioUrl" 
                      placeholder="https://..."
                      class="mt-1 block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-4 py-3 text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                  </div>

                  <!-- References -->
                  <div>
                    <label class="block text-sm font-medium mb-3">References <span class="text-red-500">*</span></label>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
                      Provide 2 references who can speak to your character, work ethic, and impact.
                    </p>
                    
                    <div class="space-y-6">
                      <!-- Reference 1 -->
                      <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                        <h4 class="font-bold text-sm mb-3">Reference #1</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                          <div>
                            <label for="ref1Name" class="block text-xs font-medium mb-1">Full Name <span class="text-red-500">*</span></label>
                            <input type="text" id="ref1Name" name="ref1Name" required
                              class="block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-3 py-2 text-sm text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                          </div>
                          <div>
                            <label for="ref1Relationship" class="block text-xs font-medium mb-1">Relationship <span class="text-red-500">*</span></label>
                            <input type="text" id="ref1Relationship" name="ref1Relationship" required placeholder="e.g., Professor, Manager, Mentor"
                              class="block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-3 py-2 text-sm text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                          </div>
                          <div>
                            <label for="ref1Email" class="block text-xs font-medium mb-1">Email <span class="text-red-500">*</span></label>
                            <input type="email" id="ref1Email" name="ref1Email" required
                              class="block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-3 py-2 text-sm text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                          </div>
                          <div>
                            <label for="ref1Phone" class="block text-xs font-medium mb-1">Phone <span class="text-red-500">*</span></label>
                            <input type="tel" id="ref1Phone" name="ref1Phone" required
                              class="block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-3 py-2 text-sm text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                          </div>
                        </div>
                      </div>

                      <!-- Reference 2 -->
                      <div class="border border-gray-200 dark:border-gray-700 rounded-lg p-4">
                        <h4 class="font-bold text-sm mb-3">Reference #2</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                          <div>
                            <label for="ref2Name" class="block text-xs font-medium mb-1">Full Name <span class="text-red-500">*</span></label>
                            <input type="text" id="ref2Name" name="ref2Name" required
                              class="block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-3 py-2 text-sm text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                          </div>
                          <div>
                            <label for="ref2Relationship" class="block text-xs font-medium mb-1">Relationship <span class="text-red-500">*</span></label>
                            <input type="text" id="ref2Relationship" name="ref2Relationship" required placeholder="e.g., Professor, Manager, Mentor"
                              class="block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-3 py-2 text-sm text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                          </div>
                          <div>
                            <label for="ref2Email" class="block text-xs font-medium mb-1">Email <span class="text-red-500">*</span></label>
                            <input type="email" id="ref2Email" name="ref2Email" required
                              class="block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-3 py-2 text-sm text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                          </div>
                          <div>
                            <label for="ref2Phone" class="block text-xs font-medium mb-1">Phone <span class="text-red-500">*</span></label>
                            <input type="tel" id="ref2Phone" name="ref2Phone" required
                              class="block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 px-3 py-2 text-sm text-gray-900 dark:text-white focus:border-primary focus:ring-primary">
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="mt-8 flex justify-between">
                  <button type="button" onclick="prevSection(9)" class="bg-gray-300 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                    ← Previous
                  </button>
                  <button type="submit" id="submitButton" class="bg-green-600 text-white rounded-lg px-8 py-3 font-bold hover:bg-green-700 transition-all flex items-center gap-2">
                    <span>Submit Application</span>
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                  </button>
                </div>
              </div>

              <!-- Success Message -->
              <div id="successMessage" class="bg-green-50 dark:bg-green-900/20 border-2 border-green-500 rounded-xl p-8 text-center hidden">
                <div class="flex justify-center mb-4">
                  <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center">
                    <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                    </svg>
                  </div>
                </div>
                <h3 class="text-2xl font-bold text-green-700 dark:text-green-400 mb-2">Application Submitted Successfully!</h3>
                <p class="text-gray-700 dark:text-gray-300 mb-4">
                  Thank you for your interest in joining Problem Solvers Foundation.
                </p>
                <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-300 dark:border-blue-700 rounded-lg p-4 mb-6 text-left">
                  <p class="text-sm font-bold text-blue-700 dark:text-blue-400 mb-2">Next Steps:</p>
                  <ul class="text-sm text-gray-700 dark:text-gray-300 space-y-1">
                    <li>✓ Week 5: Committee will review all applications (30-40 finalists selected)</li>
                    <li>✓ Week 8: Selected finalists will be invited for a 60-minute interview</li>
                    <li>✓ Weekend 9: Top candidates participate in our 2-day online hackathon</li>
                    <li>✓ Week 10: Final results announced - 10 candidates will be selected</li>
                  </ul>
                  <p class="text-xs text-gray-600 dark:text-gray-400 mt-3">
                    You'll receive an email confirmation shortly. Check your spam folder if you don't see it within 24 hours.
                  </p>
                </div>
                <a href="/" class="inline-block bg-primary text-white rounded-lg px-6 py-3 font-bold hover:bg-opacity-90 transition-all">
                  Return to Home
                </a>
              </div>

            </form>
          </div>
        </div>

        <!-- Period Info Modal -->
        <div id="periodModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-all duration-300">
          <div id="modalContent" class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-lg w-full mx-4 transform scale-95 transition-all duration-300">
            <!-- Modal Header -->
            <div id="modalHeader" class="px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between">
              <div class="flex items-center gap-3">
                <div id="modalIcon" class="w-10 h-10 rounded-full flex items-center justify-center"></div>
                <h3 id="modalTitle" class="text-xl font-bold"></h3>
              </div>
              <button id="closeModal" class="w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center transition-colors">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
              </button>
            </div>

            <!-- Modal Body -->
            <div class="px-6 py-6">
              <div id="modalDescription" class="text-gray-600 dark:text-gray-300 mb-6"></div>

              <!-- Timeline -->
              <div class="space-y-4">
                <h4 class="font-semibold text-gray-800 dark:text-gray-200 mb-3">Timeline Details:</h4>
                <div id="modalTimeline" class="space-y-3"></div>
              </div>

              <!-- Key Features -->
              <div class="mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-xl">
                <h5 class="font-semibold text-gray-800 dark:text-gray-200 mb-2">Key Features:</h5>
                <ul id="modalFeatures" class="text-sm text-gray-600 dark:text-gray-300 space-y-1">
                </ul>
              </div>
            </div>

            <!-- Modal Footer -->
            <div class="px-6 py-4 bg-gray-50 dark:bg-gray-700 rounded-b-2xl flex justify-end gap-3">
              <button id="modalCloseBtn" class="px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100 transition-colors">
                Close
              </button>
              <button id="modalApplyBtn" class="px-6 py-2 bg-primary text-white rounded-lg hover:bg-opacity-90 transition-all font-medium">
                Apply Now
              </button>
            </div>
          </div>
        </div>
      </main>
      <%- include('../partials/footer') %>
    </div>
  </div>

  <script>
    let currentSection = 1;
    const totalSections = 10;
    let gritScoreValue = 0;

    // Initialize application period and timeline
    function initializeApplicationPeriod() {
      const now = new Date();
      const month = now.getMonth() + 1; // 1-12
      const year = now.getFullYear();

      let moment, periodText, currentPeriod;
      if (month >= 1 && month <= 6) {
        moment = '1st cycle';
        periodText = 'July';
        currentPeriod = 1;
      } else {
        moment = '2nd cycle';
        periodText = 'December';
        currentPeriod = 2;
      }

      // Update timeline elements
      document.getElementById('currentPeriodName').textContent = periodText;
      document.getElementById('currentPeriodPhases').textContent = periodText;
      document.getElementById('videoYear').textContent = year;
      document.getElementById('videoMoment').textContent = moment;

      // Calculate days remaining (mock - adjust based on actual dates)
      const daysRemaining = month <= 6 ? 30 - (now.getDate() % 30) : 30 - (now.getDate() % 30);
      document.getElementById('daysRemaining').textContent = daysRemaining;

      // Update timeline visual states
      updateTimelineVisuals(currentPeriod, 1); // Start at phase 1 (Application Submission)
    }

    // Update timeline visual states
    function updateTimelineVisuals(activePeriod, currentPhase) {
      // Update period highlights
      const period1 = document.getElementById('period1');
      const period2 = document.getElementById('period2');
      const activePeriodName = document.getElementById('activePeriodName');

      // Reset all styles
      period1.classList.remove('scale-110', 'opacity-60');
      period2.classList.remove('scale-110', 'opacity-60');

      if (activePeriod === 1) {
        // Highlight first period
        period1.classList.add('scale-105');
        period1.querySelector('.border-2').classList.add('border-4', 'shadow-2xl');
        period1.querySelector('.w-12').classList.add('ring-4', 'ring-green-300', 'animate-pulse');
        period2.classList.add('opacity-70');
        activePeriodName.textContent = '1st Cycle (January - July)';
      } else {
        // Highlight second period
        period2.classList.add('scale-105');
        period2.querySelector('.border-2').classList.add('border-4', 'shadow-2xl');
        period2.querySelector('.w-12').classList.add('ring-4', 'ring-purple-300', 'animate-pulse');
        period1.classList.add('opacity-70');
        activePeriodName.textContent = '2nd Cycle (December - June)';
      }

      // Update phase states
      const phaseColors = ['bg-blue-500', 'bg-green-500', 'bg-yellow-500', 'bg-orange-500', 'bg-purple-500'];
      const phaseStates = ['Open', 'Upcoming', 'Upcoming', 'Upcoming', 'Upcoming'];

      // Mock current phase logic - adjust based on actual dates/logic
      const phases = [
        { id: 'phase1', status: 'current', statusText: 'Open Now' },
        { id: 'phase2', status: 'upcoming', statusText: 'Week 5' },
        { id: 'phase3', status: 'upcoming', statusText: 'Week 8' },
        { id: 'phase4', status: 'upcoming', statusText: 'Weekend 9' },
        { id: 'phase5', status: 'upcoming', statusText: 'Week 10' }
      ];

      phases.forEach((phase, index) => {
        const phaseElement = document.getElementById(phase.id);
        const circle = phaseElement.querySelector('.w-8');
        const statusElement = phaseElement.querySelector('.phase-status');

        if (index < currentPhase) {
          // Completed phases
          circle.className = 'flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm mr-4 bg-green-500';
          phaseElement.className = 'timeline-phase flex items-center p-3 rounded-lg transition-all duration-300 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700';
          statusElement.textContent = 'Completed';
          statusElement.className = 'phase-status text-xs px-2 py-1 rounded-full font-medium bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300';
        } else if (index === currentPhase - 1) {
          // Current phase
          circle.className = 'flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm mr-4 bg-blue-500 ring-4 ring-blue-300 animate-pulse';
          phaseElement.className = 'timeline-phase flex items-center p-3 rounded-lg transition-all duration-300 bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-500 shadow-lg';
          statusElement.textContent = phase.statusText;
          statusElement.className = 'phase-status text-xs px-2 py-1 rounded-full font-medium bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300';
        } else {
          // Future phases
          circle.className = 'flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm mr-4 bg-gray-400';
          phaseElement.className = 'timeline-phase flex items-center p-3 rounded-lg transition-all duration-300 bg-gray-50 dark:bg-gray-800 opacity-70';
          statusElement.textContent = phase.statusText;
          statusElement.className = 'phase-status text-xs px-2 py-1 rounded-full font-medium bg-gray-100 text-gray-500 dark:bg-gray-700 dark:text-gray-400';
        }
      });
    }

    // Add timeline interactivity
    function initializeTimelineInteractivity() {
      // Add click handlers for periods (optional - for demonstration)
      document.getElementById('period1').addEventListener('click', () => {
        showPeriodInfo(1);
      });

      document.getElementById('period2').addEventListener('click', () => {
        showPeriodInfo(2);
      });
    }

    function showPeriodInfo(period) {
      // Enhanced card interaction with visual feedback
      const card = period === 1 ? document.getElementById('period1') : document.getElementById('period2');

      // Add temporary highlight effect
      card.style.transform = 'scale(1.02)';
      card.style.transition = 'transform 0.2s ease';

      setTimeout(() => {
        card.style.transform = '';
      }, 200);

      // Show beautiful modal instead of ugly alert
      openPeriodModal(period);
    }

    function openPeriodModal(period) {
      const modal = document.getElementById('periodModal');
      const modalIcon = document.getElementById('modalIcon');
      const modalTitle = document.getElementById('modalTitle');
      const modalDescription = document.getElementById('modalDescription');
      const modalTimeline = document.getElementById('modalTimeline');
      const modalFeatures = document.getElementById('modalFeatures');
      const modalApplyBtn = document.getElementById('modalApplyBtn');

      // Configure modal content based on period
      if (period === 1) {
        modalIcon.className = 'w-10 h-10 rounded-full flex items-center justify-center bg-green-500 text-white';
        modalIcon.innerHTML = '1';
        modalTitle.textContent = '1st Cycle';
        modalTitle.className = 'text-xl font-bold text-green-700 dark:text-green-400';
        modalDescription.innerHTML = `
          <p class="text-lg font-medium text-green-600 dark:text-green-400 mb-2">January - July Cycle</p>
          <p>This is our first annual application period. Applications open in January with a comprehensive 6-month process culminating in July results.</p>
        `;

        modalTimeline.innerHTML = `
          <div class="modal-timeline-item">
            <div class="modal-timeline-icon bg-blue-500">📝</div>
            <div>
              <div class="font-medium">Application Period</div>
              <div class="text-sm text-gray-500">January - April</div>
            </div>
          </div>
          <div class="modal-timeline-item">
            <div class="modal-timeline-icon bg-green-500">🔍</div>
            <div>
              <div class="font-medium">Selection Process</div>
              <div class="text-sm text-gray-500">May - July</div>
            </div>
          </div>
          <div class="modal-timeline-item">
            <div class="modal-timeline-icon bg-purple-500">🎉</div>
            <div>
              <div class="font-medium">Results Announced</div>
              <div class="text-sm text-gray-500">End of July</div>
            </div>
          </div>
        `;

        modalFeatures.innerHTML = `
          <li>• 6-month comprehensive process</li>
          <li>• Mid-year cohort selection</li>
          <li>• Summer onboarding program</li>
          <li>• 10 spots available</li>
        `;
      } else {
        modalIcon.className = 'w-10 h-10 rounded-full flex items-center justify-center bg-purple-500 text-white';
        modalIcon.innerHTML = '2';
        modalTitle.textContent = '2nd Cycle';
        modalTitle.className = 'text-xl font-bold text-purple-700 dark:text-purple-400';
        modalDescription.innerHTML = `
          <p class="text-lg font-medium text-purple-600 dark:text-purple-400 mb-2">December - June Cycle</p>
          <p>This is our second annual application period. Applications open in December with a 7-month process extending into the following year.</p>
        `;

        modalTimeline.innerHTML = `
          <div class="modal-timeline-item">
            <div class="modal-timeline-icon bg-blue-500">📝</div>
            <div>
              <div class="font-medium">Application Period</div>
              <div class="text-sm text-gray-500">December - March</div>
            </div>
          </div>
          <div class="modal-timeline-item">
            <div class="modal-timeline-icon bg-green-500">🔍</div>
            <div>
              <div class="font-medium">Selection Process</div>
              <div class="text-sm text-gray-500">April - June</div>
            </div>
          </div>
          <div class="modal-timeline-item">
            <div class="modal-timeline-icon bg-purple-500">🎉</div>
            <div>
              <div class="font-medium">Results Announced</div>
              <div class="text-sm text-gray-500">End of June</div>
            </div>
          </div>
        `;

        modalFeatures.innerHTML = `
          <li>• Extended 7-month process</li>
          <li>• Cross-year application cycle</li>
          <li>• Summer preparation period</li>
          <li>• 10 spots available</li>
        `;
      }

      // Show modal with animation
      modal.classList.add('modal-open');
    }

    function closePeriodModal() {
      const modal = document.getElementById('periodModal');
      modal.classList.remove('modal-open');
    }

    function updateProgress() {
      const percentage = (currentSection / totalSections) * 100;
      document.getElementById('progress-bar').style.width = percentage + '%';
      document.getElementById('progress-percentage').textContent = Math.round(percentage) + '%';
      
      const sections = [
        'Basic Information', 
        'Motivation', 
        'Projects & Skills', 
        'Your Story',
        'Leadership',
        'Resilience',
        'Values',
        'Commitment',
        'Grit Assessment',
        'Video & References'
      ];
      document.getElementById('progress-text').textContent = sections[currentSection - 1];
    }

    function nextSection(section) {
      const currentForm = document.getElementById(`section-${currentSection}`);
      const inputs = currentForm.querySelectorAll('[required]');
      let isValid = true;
      
      inputs.forEach(input => {
        if (!input.checkValidity()) {
          isValid = false;
          input.reportValidity();
        }
      });
      
      if (!isValid) return;
      
      document.getElementById(`section-${currentSection}`).classList.add('hidden');
      currentSection = section;
      document.getElementById(`section-${section}`).classList.remove('hidden');
      updateProgress();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function prevSection(section) {
      document.getElementById(`section-${currentSection}`).classList.add('hidden');
      currentSection = section;
      document.getElementById(`section-${section}`).classList.remove('hidden');
      updateProgress();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function toggleProjectDescription(show) {
      const projectDesc = document.getElementById('projectDescription');
      if (show) {
        projectDesc.classList.remove('hidden');
      } else {
        projectDesc.classList.add('hidden');
        document.getElementById('projectDetails').value = '';
      }
    }

    function updateCharCount(fieldId, minChars = 0, maxChars = 0) {
      const field = document.getElementById(fieldId);
      const counter = document.getElementById(`${fieldId}-counter`);
      const length = field.value.length;
      
      if (maxChars > 0) {
        counter.textContent = `${length} / ${maxChars} characters maximum`;
        counter.classList.toggle('warning', length > maxChars * 0.9);
        counter.classList.toggle('error', length > maxChars);
      } else if (minChars > 0) {
        counter.textContent = `${length} / ${minChars} characters minimum`;
        counter.classList.toggle('error', length < minChars);
        counter.classList.toggle('success', length >= minChars);
      }
    }

    function updateWordCount(fieldId, minWords) {
      const field = document.getElementById(fieldId);
      const counter = document.getElementById(`${fieldId}-counter`);
      const text = field.value.trim();
      const wordCount = text.length > 0 ? text.split(/\s+/).length : 0;
      
      counter.textContent = `${wordCount} words (minimum ${minWords} words)`;
      
      if (wordCount < minWords) {
        counter.style.color = '#ef4444';
      } else if (wordCount < minWords * 1.2) {
        counter.style.color = '#f59e0b';
      } else {
        counter.style.color = '#10b981';
      }
    }

    function calculateGritAndNext() {
      // Check if all grit questions are answered
      let allAnswered = true;
      let totalScore = 0;
      
      for (let i = 1; i <= 12; i++) {
        const selected = document.querySelector(`input[name="grit${i}"]:checked`);
        if (!selected) {
          allAnswered = false;
          alert('Please answer all Grit Scale questions before continuing.');
          return;
        }
        totalScore += parseInt(selected.value);
      }
      
      // Calculate average
      gritScoreValue = (totalScore / 12).toFixed(2);
      
      // Display score
      document.getElementById('gritScore').textContent = gritScoreValue;
      const scoreDisplay = document.getElementById('gritScoreDisplay');
      const interpretation = document.getElementById('gritInterpretation');
      
      if (gritScoreValue >= 4.5) {
        interpretation.textContent = 'Extremely High Grit (Top 5%) - Exceptional perseverance and passion!';
      } else if (gritScoreValue >= 4.0) {
        interpretation.textContent = 'High Grit (Top 20%) - Strong perseverance and dedication!';
      } else if (gritScoreValue >= 3.5) {
        interpretation.textContent = 'Above Average Grit - Good balance of persistence and focus.';
      } else if (gritScoreValue >= 3.0) {
        interpretation.textContent = 'Average Grit - Room for growth in long-term persistence.';
      } else {
        interpretation.textContent = 'Below Average Grit - Consider how you can strengthen your perseverance.';
      }
      
      scoreDisplay.classList.remove('hidden');
      
      // Move to next section after a brief delay
      setTimeout(() => {
        nextSection(10);
      }, 2000);
    }

    // Form submission
    document.getElementById('applicationForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const submitButton = document.getElementById('submitButton');
      submitButton.disabled = true;
      submitButton.innerHTML = '<span>Submitting...</span>';
      
      // Collect form data
      const formData = new FormData(e.target);
      const data = {};
      
      // Handle regular fields
      for (let [key, value] of formData.entries()) {
        if (key === 'skills') {
          if (!data.skills) data.skills = [];
          data.skills.push(value);
        } else {
          data[key] = value;
        }
      }
      
      // Add grit score
      data.gritScore = gritScoreValue;
      
      // Add timestamp and status
      data.submittedAt = new Date().toISOString();
      data.status = 'pending';
      
      // Determine application period
      const now = new Date();
      const month = now.getMonth() + 1;
      data.applicationPeriod = month <= 6 ? '1st cycle' : '2nd cycle';
      data.applicationYear = now.getFullYear();
      
      try {
        const response = await fetch('/api/applications/submit', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
        
        if (response.ok) {
          // Hide all form sections
          for (let i = 1; i <= totalSections; i++) {
            document.getElementById(`section-${i}`).classList.add('hidden');
          }
          
          // Hide progress bar
          document.querySelector('.mb-8').classList.add('hidden');
          
          // Show success message
          document.getElementById('successMessage').classList.remove('hidden');
          
          // Scroll to top
          window.scrollTo({ top: 0, behavior: 'smooth' });
        } else {
          throw new Error('Submission failed');
        }
      } catch (error) {
        console.error('Error:', error);
        alert('An error occurred while submitting your application. Please try again.');
        submitButton.disabled = false;
        submitButton.innerHTML = '<span>Submit Application</span><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>';
      }
    });

    // Initialize modal functionality
    function initializeModalFunctionality() {
      const modal = document.getElementById('periodModal');
      const closeModalBtn = document.getElementById('closeModal');
      const modalCloseBtn = document.getElementById('modalCloseBtn');
      const modalApplyBtn = document.getElementById('modalApplyBtn');

      // Close modal when clicking outside
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          closePeriodModal();
        }
      });

      // Close modal when clicking close buttons
      closeModalBtn.addEventListener('click', closePeriodModal);
      modalCloseBtn.addEventListener('click', closePeriodModal);

      // Apply button scrolls to form
      modalApplyBtn.addEventListener('click', () => {
        closePeriodModal();
        // Scroll to first section of the form
        document.getElementById('section-1').scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      });

      // Close modal with Escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.classList.contains('modal-open')) {
          closePeriodModal();
        }
      });
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', () => {
      initializeApplicationPeriod();
      initializeTimelineInteractivity();
      initializeModalFunctionality();
      updateProgress();
    });
  </script>
  
  <%- include('../partials/scripts', { pageScripts: [], inlineScript: null }) %>
</body>
</html>